/*! sidr - v2.0.0 - 2016-01-10
 * http://www.berriart.com/sidr/
 * Copyright (c) 2013-2016 Alberto Varela; Licensed MIT */
!function(a){var b,c,d=!1,e=!1,f={isUrl:function(a){var b=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return b.test(a)?!0:!1},loadContent:function(a,b){a.html(b)},addPrefix:function(a){var b=a.attr("id"),c=a.attr("class");"string"==typeof b&&""!==b&&a.attr("id",b.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-id-$1")),"string"==typeof c&&""!==c&&"sidr-inner"!==c&&a.attr("class",c.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-class-$1")),a.removeAttr("style")},execute:function(b,c,f){"function"==typeof c?(f=c,c="sidr"):c||(c="sidr");var g,i,j,k=a("#"+c),l=a(k.data("body")),m=a("html"),n=k.outerWidth(!0),o=k.data("speed"),p=k.data("side"),q=k.data("displace"),r=k.data("onOpen"),s=k.data("onClose"),t="sidr"===c?"sidr-open":"sidr-open "+c+"-open";if("open"===b||"toggle"===b&&!k.is(":visible")){if(k.is(":visible")||d)return;if(e!==!1)return void h.close(e,function(){h.open(c)});d=!0,"left"===p?(g={left:n+"px"},i={left:"0px"}):(g={right:n+"px"},i={right:"0px"}),l.is("body")&&(j=m.scrollTop(),m.css("overflow-x","hidden").scrollTop(j)),q?l.addClass("sidr-animating").css({width:l.width(),position:"absolute"}).animate(g,{queue:!1,duration:o,complete:function(){a(this).addClass(t)}}):setTimeout(function(){l.addClass(t)},o),k.css("display","block").animate(i,{queue:!1,duration:o,complete:function(){d=!1,e=c,"function"==typeof f&&f(c),l.removeClass("sidr-animating")}}),r()}else{if(!k.is(":visible")||d)return;d=!0,"left"===p?(g={left:0},i={left:"-"+n+"px"}):(g={right:0},i={right:"-"+n+"px"}),l.is("body")&&(j=m.scrollTop(),m.css("overflow-x","").scrollTop(j)),l.addClass("sidr-animating").animate(g,{queue:!1,duration:o}).removeClass(t),k.animate(i,{queue:!1,duration:o,complete:function(){k.removeAttr("style").hide(),l.css({width:"",position:"",right:"",left:""}),a("html").css("overflow-x",""),d=!1,e=!1,"function"==typeof f&&f(c),l.removeClass("sidr-animating")}}),s()}}},g=["open","close","toggle"],h={},i=function(a){return function(b,c){f.execute(a,b,c)}};for(b=0;b<=g.length;b++)c=g[b],h[c]=i(c);a.sidr=function(b){return h[b]?h[b].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof b&&"string"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.sidr"):h.toggle.apply(this,arguments)},a.fn.sidr=function(b){var c=a.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body",displace:!0,onOpen:function(){},onClose:function(){}},b),g=c.name,i=a("#"+g);if(0===i.length&&(i=a("<div />").attr("id",g).appendTo(a("body"))),i.addClass("sidr").addClass(c.side).data({speed:c.speed,side:c.side,body:c.body,displace:c.displace,onOpen:c.onOpen,onClose:c.onClose}),"function"==typeof c.source){var j=c.source(g);f.loadContent(i,j)}else if("string"==typeof c.source&&f.isUrl(c.source))a.get(c.source,function(a){f.loadContent(i,a)});else if("string"==typeof c.source){var k="",l=c.source.split(",");if(a.each(l,function(b,c){k+='<div class="sidr-inner">'+a(c).html()+"</div>"}),c.renaming){var m=a("<div />").html(k);m.find("*").each(function(b,c){var d=a(c);f.addPrefix(d)}),k=m.html()}f.loadContent(i,k)}else null!==c.source&&a.error("Invalid Sidr Source");return this.each(function(){var b=a(this),c=b.data("sidr"),f=!1;c||(d=!1,e=!1,b.data("sidr",g),b.bind("touchstart click",function(a){a.preventDefault(),f||(f=!0,h.toggle(g),setTimeout(function(){f=!1},100))}))})}}(jQuery);